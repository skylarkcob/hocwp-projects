if(window.wp=window.wp||{},window.hocwp=window.hocwp||{},"undefined"==typeof jQuery)throw new Error(hocwp.i18n.jquery_undefined_error);jQuery(document).ready(function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error(hocwp.i18n.jquery_version_error)}),hocwp.media_frame=null,hocwp.media_items={},jQuery(document).ready(function(t){"use strict";hocwp.getParamByName=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=i.exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},hocwp.receiveSelectedMediaItems=function(t){return t.state().get("selection")},hocwp.receiveSelectedMediaItem=function(t){var e=hocwp.receiveSelectedMediaItems(t);return e.first().toJSON()},hocwp.isImageUrl=function(e){if(!t.trim(e))return!1;var i=!0,n=e.slice(-4);return".png"!=n&&".jpg"!=n&&".gif"!=n&&".bmp"!=n&&"jpeg"!=n&&".ico"!=n&&(i=!1),i},hocwp.isUrl=function(t){var e=new RegExp("^(http://www.|https://www.|ftp://www.|www.){1}([0-9A-Za-z]+.)");return e.test(t)},hocwp.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},hocwp.getFirstMediaItemJSON=function(t){return t.first().toJSON()},hocwp.createImageHTML=function(e){e=e||{};var i=e.alt||"",n=e.src||"";return t.trim(n)?'<img src="'+n+'" alt="'+i+'">':void 0},hocwp.autoReloadPageNoActive=function(e,i){function n(){(new Date).getTime()-s>=e?window.location.reload(!0):setTimeout(n,i)}e=e||6e4,i=i||1e4;var s=(new Date).getTime();t(document.body).bind("mousemove keypress",function(){s=(new Date).getTime()}),setTimeout(n,i)},hocwp.setCookie=function(t,e,i){var n=new Date;n.setTime(n.getTime()+60*i*1e3);var s,o="expires="+n.toGMTString();s=t+"="+e+"; "+o+"; path=/",document.cookie=s},hocwp.formatNumber=function(e,i,n){n=n||" â‚«",i=i||",";var s=e.toString(),o=".",a=s.split("."),l="";hocwp.isArray(a)||(a=s.split(","),o=","),hocwp.isArray(a)&&(s=a[0]);var c=parseInt(s.length),h=s.slice(-3);for(l+=c>3?i+h:h;c>3;)c-=3,s=s.slice(0,c),h=s.slice(-3),l=3>=c?h+l:i+h+l;return hocwp.isArray(a)&&t.isNumeric(a[1])&&(l+=o+a[1]),l+=n,l=t.trim(l)},hocwp.scrollToPosition=function(e,i){i=i||1e3,t("html, body").stop().animate({scrollTop:e},i)},hocwp.goToTop=function(){return hocwp.scrollToPosition(0),!1},hocwp.scrollToTop=function(){hocwp.goToTop()},hocwp.isEmail=function(t){return this.test(t,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},hocwp.isEmpty=function(t){return t.trim()},hocwp.switcherAjax=function(){t(".hocwp-switcher-ajax .icon-circle").on("click",function(e){e.preventDefault();var i=t(this),n="0.5";i.hasClass("icon-circle-success")&&(n="0.25"),i.css({opacity:n}),t.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,data:{action:"hocwp_switcher_ajax",post_id:i.attr("data-id"),value:i.attr("data-value"),key:i.attr("data-key")},success:function(t){t.success&&i.toggleClass("icon-circle-success"),i.css({opacity:"1"})}})})},hocwp.chosenSelectUpdated=function(e){var i=e,n=i.chosen().val(),s=i.parent(),o=s.find(".chosen-result");if(null==n)return void o.val("");var a=[],l=null,c=null,h=0,r=n.length,u=!1;for(h;r>=h;h++){var d=n[h],p={value:d};c=s.find('option[value="'+d+'"]'),l=c.attr("data-taxonomy"),t.trim(l)&&(p.taxonomy=l,u=!0),a.push(p)}o.val(JSON.stringify(a))},hocwp.mediaRemove=function(t,e,i,n,s){i.html(""),n.val(""),s.val(""),e.addClass("hidden"),t.removeClass("hidden")},hocwp.mediaChange=function(t,e,i,n,s){hocwp.isImageUrl(n.val())?i.html(hocwp.createImageHTML({src:n.val()})):i.html(""),s.val("")},hocwp.mediaUpload=function(e,i){var n={title:hocwp.i18n.insert_media_title,button_text:null,multiple:!1,remove:!1,change:!1};i=i||{},i=t.extend({},n,i);var s=e.parent(),o=s.find("input.media-url"),a=s.find("input.media-id"),l=s.find(".btn-remove"),c=s.find(".media-preview"),h=null;if(i.remove||i.change)i.remove&&hocwp.mediaRemove(e,l,c,o,a);else{if(e.hasClass("selecting"))return;if(i.button_text||(i.multiple?i.button_text=hocwp.i18n.insert_media_button_texts:i.button_text=hocwp.i18n.insert_media_button_text),e.addClass("selecting"),h)return void h.open();h=wp.media({title:i.title,button:{text:i.button_text},multiple:i.multiple}),h.on("select",function(){var t=hocwp.receiveSelectedMediaItems(h);if(!i.multiple){var n=hocwp.getFirstMediaItemJSON(t);n.id&&a.val(n.id),n.url&&(o.val(n.url),c.html(hocwp.createImageHTML({src:n.url})),e.addClass("hidden"),l.removeClass("hidden"))}e.removeClass("selecting")}),h.on("escape",function(){e.removeClass("selecting")}),h.open()}i.change&&hocwp.mediaChange(e,l,c,o,a),o.on("change input",function(t){t.preventDefault(),hocwp.mediaChange(e,l,c,o,a)}),l.on("click",function(t){t.preventDefault(),hocwp.mediaRemove(e,l,c,o,a)})},hocwp.sortableTermStop=function(e){var i=e.find(".input-result"),n=e.find(".connected-result"),s=[];return n.find("li").each(function(e,i){var n=t(i),o={id:n.attr("data-id"),taxonomy:n.attr("data-taxonomy")};s.push(o)}),s=JSON.stringify(s),i.val(s),s},hocwp.sortablePostTypeStop=function(e){var i=e.find(".input-result"),n=e.find(".connected-result"),s=[];return n.find("li").each(function(e,i){var n=t(i),o={id:n.attr("data-id")};s.push(o)}),s=JSON.stringify(s),i.val(s),s}}),jQuery(document).ready(function(t){function e(i,n){this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.items=null,this.$element=t(i),this.$container=this.$element.parent(),this.$id=this.$container.find("input.media-id"),this.$url=this.$container.find("input.media-url"),this.$preview=this.$container.find(".media-preview"),this.$remove=this.$container.find(".btn-remove"),this.$th=this.$container.prev(),this._defaults=e.DEFAULTS,this._name=e.NAME,this.frame=null,this.init(),this.$element.on("click",t.proxy(this.add,this)),this.$url.on("change input",t.proxy(this.change,this)),this.$remove.on("click",t.proxy(this.remove,this))}e.NAME="hocwp.mediaUpload",e.DEFAULTS={title:hocwp.i18n.insert_media_title,button_text:null,multiple:!1},e.prototype.init=function(){this.options.button_text||(this.options.multiple?this.options.button_text=hocwp.i18n.insert_media_button_texts:this.options.button_text=hocwp.i18n.insert_media_button_text)},e.prototype.selected=function(){if(this.items=hocwp.receiveSelectedMediaItems(this.frame),!this.options.multiple){var t=hocwp.getFirstMediaItemJSON(this.items);t.id&&this.$id.val(t.id),t.url&&(this.$url.val(t.url),this.$preview.html(hocwp.createImageHTML({src:t.url})),this.$element.addClass("hidden"),this.$remove.removeClass("hidden"))}this.$element.removeClass("selecting")},e.prototype.remove=function(t){t.preventDefault(),this.$preview.html(""),this.$url.val(""),this.$id.val(""),this.$remove.addClass("hidden"),this.$element.removeClass("hidden")},e.prototype.add=function(e){e.preventDefault();var i=this.$element;if(!this.$element.hasClass("selecting")){if(this.$element.addClass("selecting"),this.frame)return void this.frame.open();this.frame=wp.media({title:this.options.title,button:{text:this.options.button_text},multiple:this.options.multiple}),this.frame.on("select",t.proxy(this.selected,this)),this.frame.on("escape",function(){i.removeClass("selecting")}),this.frame.open()}},e.prototype.change=function(t){t.preventDefault(),hocwp.isImageUrl(this.$url.val())?this.$preview.html(hocwp.createImageHTML({src:this.$url.val()})):this.$preview.html(""),this.$id.val("")},t.fn.hocwpMediaUpload=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){var s=t(window),o=s.scrollTop();this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.init();var a=this.options.posToShow,l=this.$element;o>=a&&l.fadeIn(),s.scroll(function(){t(this).scrollTop()>=a?l.fadeIn():l.fadeOut()}),l.on("click",t.proxy(this.click,this))}e.NAME="hocwp.scrollTop",e.DEFAULTS={posToShow:100},e.prototype.init=function(){},e.prototype.click=function(t){t.preventDefault(),hocwp.scrollToTop()},t.fn.hocwpScrollTop=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){if(this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,!this.$element.hasClass("manage-column")){this.init();var s=this.$element,o=s.parent(),a=s.next(),l={placeholder:"ui-state-highlight",sort:function(e,i){var n=t(this),s=n.find(".ui-state-highlight");s.css({height:i.item.height()}),n.hasClass("display-inline")&&s.css({width:i.item.width()})},stop:function(){var t=o.find(".connected-result");t.hasClass("term-sortable")?hocwp.sortableTermStop(o):t.hasClass("post-type-sortable")&&hocwp.sortablePostTypeStop(o)}};a.length&&a.hasClass("sortable")&&a.css({height:s.height()}),s.hasClass("connected-list")&&(l.connectWith=".connected-list"),s.sortable(l).disableSelection()}}e.NAME="hocwp.sortableList",e.DEFAULTS={},e.prototype.init=function(){},t.fn.hocwpSortable=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){function s(){c.removeClass("sf-menu sf-js-enabled"),c.find("li.menu-item-has-children").not(".appended").addClass("appended").append('<i class="fa fa-plus"></i>'),c.css({height:u}),c.show(),c.addClass(m),c.addClass("hocwp-mobile-menu"),h.find(".mobile-menu-button").length||(h.append(hocwp.mobile_menu_icon),h.find(".mobile-menu-button").attr("aria-controls",c.attr("id"))),h.find(".mobile-menu-button").on("click",function(){c.toggleClass("active")}),c.on("click",function(t){t.target==this&&c.toggleClass("active")}),c.find("li.menu-item-has-children .fa").on("click",function(e){e.preventDefault();var i=t(this),n=i.parent(),s=n.children(".sub-menu");i.hasClass("active")?(s.slideUp(),i.removeClass("fa-minus"),i.addClass("fa-plus"),n.find(".fa-minus").each(function(){t(this).removeClass("fa-minus active").addClass("fa-plus")}),n.find(".sub-menu").hide()):(i.removeClass("fa-plus"),i.addClass("fa-minus"),s.slideDown()),i.toggleClass("active")})}var o=t(window),a=t("body"),l=o.width();this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.init();var c=this.$element,h=c.parent(),r=parseFloat(this.options.displayWidth),u=a.height();this.element_class=c.attr("class"),this.html=c.html();var d=this.html,p=this.element_class,m=this.options.position;r>=l&&s(),o.on("resize",function(){l=o.width(),l>r?(c.attr("class",p),c.attr("style",""),c.html(d)):s()})}e.NAME="hocwp.mobileMenu",e.DEFAULTS={displayWidth:980,position:"left"},e.prototype.init=function(){this.$element.is("ul")||(this.$element=this.$element.find("ul"))},e.prototype.click=function(t){t.preventDefault(),hocwp.scrollToTop()},t.fn.hocwpMobileMenu=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){t(window);this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.multiple=this.$element.attr("multiple"),this.init();var s=this.$element,o=parseInt(this.$element.attr("data-loaded")),a={width:this.options.width||"100%"};1==o&&this.$element.parent().find(".chosen-container").remove(),"multiple"==this.multiple?this.$element.chosen(a).on("change",function(){hocwp.chosenSelectUpdated(s)}):this.$element.chosen(a),this.$element.parent().find(".chosen-container").show()}e.NAME="hocwp.chosenSelect",e.DEFAULTS={displayWidth:980,position:"left"},e.prototype.init=function(){var t=this.$element.parent(),e=t.next();e.hasClass("chosen-container")&&e.remove(),this.$element.addClass("hocwp-chosen-select"),this.$element.attr("data-loaded",1)},t.fn.hocwpChosenSelect=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){t.fn.hocwpShow=function(e,i){var n=t(this);i=i||!1,e?i?n.addClass("active").fadeIn():n.addClass("active").show():i?n.removeClass("active").fadeOut():n.removeClass("active").hide()},t.fn.hocwpExternalLinkFilter=function(){var e=t(this);e.filter(function(){return this.hostname&&this.hostname!==location.hostname}).addClass("external")}}),jQuery(document).ready(function(t){!function(){t(".btn-insert-media").hocwpMediaUpload()}()});