if(window.wp=window.wp||{},window.hocwp=window.hocwp||{},"undefined"==typeof jQuery)throw new Error(hocwp.i18n.jquery_undefined_error);jQuery(document).ready(function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error(hocwp.i18n.jquery_version_error)}),hocwp.media_frame=null,hocwp.media_items={},jQuery(document).ready(function(t){"use strict";hocwp.getParamByName=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=i.exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},hocwp.receiveSelectedMediaItems=function(t){return t.state().get("selection")},hocwp.receiveSelectedMediaItem=function(t){var e=hocwp.receiveSelectedMediaItems(t);return e.first().toJSON()},hocwp.isImageUrl=function(e){if(!t.trim(e))return!1;var i=!0,n=e.slice(-4);return".png"!=n&&".jpg"!=n&&".gif"!=n&&".bmp"!=n&&"jpeg"!=n&&".ico"!=n&&(i=!1),i},hocwp.isUrl=function(t){var e=new RegExp("^(http://www.|https://www.|ftp://www.|www.){1}([0-9A-Za-z]+.)");return e.test(t)},hocwp.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},hocwp.getFirstMediaItemJSON=function(t){return t.first().toJSON()},hocwp.createImageHTML=function(e){e=e||{};var i=e.alt||"",n=e.src||"";return t.trim(n)?'<img src="'+n+'" alt="'+i+'">':void 0},hocwp.autoReloadPageNoActive=function(e,i){function n(){(new Date).getTime()-o>=e?window.location.reload(!0):setTimeout(n,i)}e=e||6e4,i=i||1e4;var o=(new Date).getTime();t(document.body).bind("mousemove keypress",function(){o=(new Date).getTime()}),setTimeout(n,i)},hocwp.setCookie=function(t,e,i){var n=new Date;n.setTime(n.getTime()+60*i*1e3);var o,s="expires="+n.toGMTString();o=t+"="+e+"; "+s+"; path=/",document.cookie=o},hocwp.formatNumber=function(e,i,n){n=n||" â‚«",i=i||",";var o=e.toString(),s=".",a=o.split("."),c="";hocwp.isArray(a)||(a=o.split(","),s=","),hocwp.isArray(a)&&(o=a[0]);var l=parseInt(o.length),r=o.slice(-3);for(c+=l>3?i+r:r;l>3;)l-=3,o=o.slice(0,l),r=o.slice(-3),c=3>=l?r+c:i+r+c;return hocwp.isArray(a)&&t.isNumeric(a[1])&&(c+=s+a[1]),c+=n,c=t.trim(c)},hocwp.scrollToPosition=function(e,i){i=i||1e3,t("html, body").stop().animate({scrollTop:e},i)},hocwp.goToTop=function(){return hocwp.scrollToPosition(0),!1},hocwp.scrollToTop=function(){hocwp.goToTop()},hocwp.isEmail=function(t){return this.test(t,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},hocwp.isEmpty=function(t){return t.trim()},hocwp.switcherAjax=function(){t(".hocwp-switcher-ajax .icon-circle").on("click",function(e){e.preventDefault();var i=t(this),n="0.5";i.hasClass("icon-circle-success")&&(n="0.25"),i.css({opacity:n}),t.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,data:{action:"hocwp_switcher_ajax",post_id:i.attr("data-id"),value:i.attr("data-value"),key:i.attr("data-key")},success:function(t){t.success&&i.toggleClass("icon-circle-success"),i.css({opacity:"1"})}})})},hocwp.chosenSelectUpdated=function(e){var i=e,n=i.chosen().val(),o=i.parent(),s=o.find(".chosen-result");if(null==n)return void s.val("");var a=[],c=null,l=null,r=0,h=n.length,d=!1;for(r;h>=r;r++){var u=n[r],p={value:u};l=o.find('option[value="'+u+'"]'),c=l.attr("data-taxonomy"),t.trim(c)&&(p.taxonomy=c,d=!0),a.push(p)}s.val(JSON.stringify(a))},hocwp.mediaRemove=function(t,e,i,n,o){i.html(""),n.val(""),o.val(""),e.addClass("hidden"),t.removeClass("hidden")},hocwp.mediaChange=function(t,e,i,n,o){hocwp.isImageUrl(n.val())?i.html(hocwp.createImageHTML({src:n.val()})):i.html(""),o.val("")},hocwp.mediaUpload=function(e,i){var n={title:hocwp.i18n.insert_media_title,button_text:null,multiple:!1,remove:!1,change:!1};i=i||{},i=t.extend({},n,i);var o=e.parent(),s=o.find("input.media-url"),a=o.find("input.media-id"),c=o.find(".btn-remove"),l=o.find(".media-preview"),r=null;if(i.remove||i.change)i.remove&&hocwp.mediaRemove(e,c,l,s,a);else{if(e.hasClass("selecting"))return;if(i.button_text||(i.multiple?i.button_text=hocwp.i18n.insert_media_button_texts:i.button_text=hocwp.i18n.insert_media_button_text),e.addClass("selecting"),r)return void r.open();r=wp.media({title:i.title,button:{text:i.button_text},multiple:i.multiple}),r.on("select",function(){var t=hocwp.receiveSelectedMediaItems(r);if(!i.multiple){var n=hocwp.getFirstMediaItemJSON(t);n.id&&a.val(n.id),n.url&&(s.val(n.url),l.html(hocwp.createImageHTML({src:n.url})),e.addClass("hidden"),c.removeClass("hidden"))}e.removeClass("selecting")}),r.on("escape",function(){e.removeClass("selecting")}),r.open()}i.change&&hocwp.mediaChange(e,c,l,s,a),s.on("change input",function(t){t.preventDefault(),hocwp.mediaChange(e,c,l,s,a)}),c.on("click",function(t){t.preventDefault(),hocwp.mediaRemove(e,c,l,s,a)})},hocwp.sortableTermStop=function(e){var i=e.find(".input-result"),n=e.find(".connected-result"),o=[];return n.find("li").each(function(e,i){var n=t(i),s={id:n.attr("data-id"),taxonomy:n.attr("data-taxonomy")};o.push(s)}),o=JSON.stringify(o),i.val(o),o},hocwp.sortablePostTypeStop=function(e){var i=e.find(".input-result"),n=e.find(".connected-result"),o=[];return n.find("li").each(function(e,i){var n=t(i),s={id:n.attr("data-id")};o.push(s)}),o=JSON.stringify(o),i.val(o),o}}),jQuery(document).ready(function(t){function e(i,n){this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.items=null,this.$element=t(i),this.$container=this.$element.parent(),this.$id=this.$container.find("input.media-id"),this.$url=this.$container.find("input.media-url"),this.$preview=this.$container.find(".media-preview"),this.$remove=this.$container.find(".btn-remove"),this.$th=this.$container.prev(),this._defaults=e.DEFAULTS,this._name=e.NAME,this.frame=null,this.init(),this.$element.on("click",t.proxy(this.add,this)),this.$url.on("change input",t.proxy(this.change,this)),this.$remove.on("click",t.proxy(this.remove,this))}e.NAME="hocwp.mediaUpload",e.DEFAULTS={title:hocwp.i18n.insert_media_title,button_text:null,multiple:!1},e.prototype.init=function(){this.options.button_text||(this.options.multiple?this.options.button_text=hocwp.i18n.insert_media_button_texts:this.options.button_text=hocwp.i18n.insert_media_button_text)},e.prototype.selected=function(){if(this.items=hocwp.receiveSelectedMediaItems(this.frame),!this.options.multiple){var t=hocwp.getFirstMediaItemJSON(this.items);t.id&&this.$id.val(t.id),t.url&&(this.$url.val(t.url),this.$preview.html(hocwp.createImageHTML({src:t.url})),this.$element.addClass("hidden"),this.$remove.removeClass("hidden"))}this.$element.removeClass("selecting")},e.prototype.remove=function(t){t.preventDefault(),this.$preview.html(""),this.$url.val(""),this.$id.val(""),this.$remove.addClass("hidden"),this.$element.removeClass("hidden")},e.prototype.add=function(e){e.preventDefault();var i=this.$element;if(!this.$element.hasClass("selecting")){if(this.$element.addClass("selecting"),this.frame)return void this.frame.open();this.frame=wp.media({title:this.options.title,button:{text:this.options.button_text},multiple:this.options.multiple}),this.frame.on("select",t.proxy(this.selected,this)),this.frame.on("escape",function(){i.removeClass("selecting")}),this.frame.open()}},e.prototype.change=function(t){t.preventDefault(),hocwp.isImageUrl(this.$url.val())?this.$preview.html(hocwp.createImageHTML({src:this.$url.val()})):this.$preview.html(""),this.$id.val("")},t.fn.hocwpMediaUpload=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){var o=t(window),s=o.scrollTop();this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.init();var a=this.options.posToShow,c=this.$element;s>=a&&c.fadeIn(),o.scroll(function(){t(this).scrollTop()>=a?c.fadeIn():c.fadeOut()}),c.on("click",t.proxy(this.click,this))}e.NAME="hocwp.scrollTop",e.DEFAULTS={posToShow:100},e.prototype.init=function(){},e.prototype.click=function(t){t.preventDefault(),hocwp.scrollToTop()},t.fn.hocwpScrollTop=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){if(this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,!this.$element.hasClass("manage-column")){this.init();var o=this.$element,s=o.parent(),a=o.next(),c={placeholder:"ui-state-highlight",sort:function(e,i){var n=t(this),o=n.find(".ui-state-highlight");o.css({height:i.item.height()}),n.hasClass("display-inline")&&o.css({width:i.item.width()})},stop:function(){var t=s.find(".connected-result");t.hasClass("term-sortable")?hocwp.sortableTermStop(s):t.hasClass("post-type-sortable")&&hocwp.sortablePostTypeStop(s)}};a.length&&a.hasClass("sortable")&&a.css({height:o.height()}),o.hasClass("connected-list")&&(c.connectWith=".connected-list"),o.sortable(c).disableSelection()}}e.NAME="hocwp.sortableList",e.DEFAULTS={},e.prototype.init=function(){},t.fn.hocwpSortable=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){function o(){l.removeClass("sf-menu sf-js-enabled"),l.find("li.menu-item-has-children").not(".appended").addClass("appended").append('<i class="fa fa-plus"></i>'),l.css({height:d}),l.show(),l.addClass(m),l.addClass("hocwp-mobile-menu"),r.find(".mobile-menu-button").length||(r.append(hocwp.mobile_menu_icon),r.find(".mobile-menu-button").attr("aria-controls",l.attr("id"))),r.find(".mobile-menu-button").on("click",function(){l.toggleClass("active")}),l.on("click",function(t){t.target==this&&l.toggleClass("active")}),l.find("li.menu-item-has-children .fa").on("click",function(e){e.preventDefault();var i=t(this),n=i.parent(),o=n.children(".sub-menu");i.hasClass("active")?(o.slideUp(),i.removeClass("fa-minus"),i.addClass("fa-plus"),n.find(".fa-minus").each(function(){t(this).removeClass("fa-minus active").addClass("fa-plus")}),n.find(".sub-menu").hide()):(i.removeClass("fa-plus"),i.addClass("fa-minus"),o.slideDown()),i.toggleClass("active")})}var s=t(window),a=t("body"),c=s.width();this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.init();var l=this.$element,r=l.parent(),h=parseFloat(this.options.displayWidth),d=a.height();this.element_class=l.attr("class"),this.html=l.html();var u=this.html,p=this.element_class,m=this.options.position;h>=c&&o(),s.on("resize",function(){c=s.width(),c>h?(l.attr("class",p),l.attr("style",""),l.html(u)):o()})}e.NAME="hocwp.mobileMenu",e.DEFAULTS={displayWidth:980,position:"left"},e.prototype.init=function(){this.$element.is("ul")||(this.$element=this.$element.find("ul"))},e.prototype.click=function(t){t.preventDefault(),hocwp.scrollToTop()},t.fn.hocwpMobileMenu=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){function e(i,n){t(window);this.self=this,this.element=i,this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this._defaults=e.DEFAULTS,this._name=e.NAME,this.init();var o=this.$element,s=parseInt(this.$element.attr("data-loaded")),a={width:this.options.width||"100%"};1==s&&this.$element.parent().find(".chosen-container").remove(),this.$element.chosen(a).on("change",function(){hocwp.chosenSelectUpdated(o)}),this.$element.parent().find(".chosen-container").show()}e.NAME="hocwp.chosenSelect",e.DEFAULTS={displayWidth:980,position:"left"},e.prototype.init=function(){var t=this.$element.parent(),e=t.next();e.hasClass("chosen-container")&&e.remove(),this.$element.addClass("hocwp-chosen-select"),this.$element.attr("data-loaded",1)},t.fn.hocwpChosenSelect=function(i){return this.each(function(){t.data(this,e.NAME)||t.data(this,e.NAME,new e(this,i))})}}),jQuery(document).ready(function(t){t.fn.hocwpShow=function(e,i){var n=t(this);i=i||!1,e?i?n.addClass("active").fadeIn():n.addClass("active").show():i?n.removeClass("active").fadeOut():n.removeClass("active").hide()},t.fn.hocwpExternalLinkFilter=function(){var e=t(this);e.filter(function(){return this.hostname&&this.hostname!==location.hostname}).addClass("external")}}),jQuery(document).ready(function(t){!function(){t(".btn-insert-media").hocwpMediaUpload()}()});