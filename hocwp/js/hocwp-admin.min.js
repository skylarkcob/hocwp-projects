window.hocwp=window.hocwp||{},window.wp=window.wp||{},jQuery(document).ready(function(e){var t=e("body");hocwp.addBulkAction=function(t){t=t||[];for(var a=0;a<t.length;a++)e("<option>").val(t[a][0]).text(t[a][1]).appendTo("select[name='action']"),e("<option>").val(t[a][0]).text(t[a][1]).appendTo("select[name='action2']")},hocwp.widgetPostTypeChange=function(t){var a=e(t),c=a.val(),i=a.closest(".hocwp-widget"),o=i.find(".select-category"),n=o.closest(".hocwp-widget-field-group");"category"==c?n.fadeIn(500):n.fadeOut()},function(){t.hasClass("widgets-php")&&(e(document).on("widget-updated",function(t,a){var c=a[0].id;if(c&&c.match("hocwp")){var i=e(this);c.match("hocwp_widget_banner")||c.match("hocwp_widget_icon")?(i.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}),i.find(".btn-remove").live("click",function(t){t.preventDefault();var a=e(this).parent();hocwp.mediaUpload(a.find(".btn-insert-media"),{remove:!0})}),i.find("input.media-url").live("change input",function(t){t.preventDefault();var a=e(this).parent();hocwp.mediaUpload(a.find(".btn-insert-media"),{change:!0})})):c.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e("div.widgets-sortables").bind("sortreceive",function(t,a){var c=e(a.item).attr("id");if(c&&c.match("hocwp")){var i=e(a.item);c.match("hocwp_widget_banner")||c.match("hocwp_widget_icon")?i.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}):c.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}).bind("sortstop",function(t,a){var c=e(a.item).attr("id");if(c&&c.match("hocwp")){var i=e(a.item);c.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e(document).ajaxSuccess(function(t,a,c){if(-1!=c.data.search("action=save-widget")&&-1!=c.data.search("hocwp")){var i=hocwp.getParamByName(c.data,"id_base"),o=e(this),n=!1;"hocwp_widget_post"==i||"hocwp_widget_top_commenter"==i||"hocwp_widget_term"==i?n=!0:"hocwp_widget_link"==i&&(n=!0),n&&(o.find(".hocwp-widget .chosen-container").hide(),o.find(".hocwp-widget .chooseable").hocwpChosenSelect(),o.find(".hocwp-widget .chosen-container").show())}}),e(document).delegate(".btn-insert-media","click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}))}(),function(){var a=e(".hocwp-meta-box #add_slider");a.length&&(a.hocwpMediaUpload({hideAddButton:!1}),e(".hocwp-meta-box .list-slider-items img.item-image").hocwpMediaUpload(),t.on("hocwp_media:selected",function(t,a,c){if(t.preventDefault(),c=e(c)||e(this),c.length){var i=a.url,o=parseInt(a.id);if(c.hasClass("item-image")){var n=c.parent(),s=n.find(".item-image-url"),d=n.find(".item-image-id");o>0&&(c.attr("src",i),s.val(i),d.val(o))}else{var r=c.closest(".hocwp-meta-box"),p=r.find(".list-slider-items"),l=parseInt(p.attr("data-items")),h=parseInt(p.attr("data-max-id")),w=r.find(".item-order"),f=w.val();o>0&&(l++,h++,c.addClass("disabled"),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,cache:!0,data:{action:"hocwp_generate_slider_sortable_item",max_item_id:h,media_url:i,media_id:o},success:function(t){e.trim(t.html_data)&&(p.append(t.html_data),p.attr("data-items",l),p.attr("data-max-id",h),e.trim(f)&&(f+=","),f+=h,w.val(f)),c.removeClass("disabled"),p.find(".item-image").hocwpMediaUpload(),p.find(".hocwp-color-picker").wpColorPicker()}}))}}}),t.on("hocwp_sortable:stop",function(t,a,c){var i=e(c);if(i.length&&i.hasClass("sortable")){var o=i,n=o.parent(),s=n.find(".item-order"),d="";o.find("li").each(function(t,a){var c=e(a);d+=c.attr("data-item"),d+=","}),d=d.slice(0,-1),s.val(d)}}),e(".hocwp-meta-box .list-slider-items").on("click",".icon-delete",function(t){t.preventDefault();var a=e(this),c=a.parent(),i=c.parent(),o=i.parent(),n=o.find(".item-order"),s="";confirm(hocwp.i18n.delete_confirm_message)&&(a.addClass("disabled"),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,cache:!0,data:{action:"hocwp_remove_slider_item",item_id:parseInt(c.attr("data-item")),post_id:parseInt(i.attr("data-post"))},success:function(t){c.remove(),i.find("li").each(function(t,a){var c=e(a);s+=c.attr("data-item"),s+=","}),s=s.slice(0,-1),n.val(s)}}))}),e(".hocwp-meta-box .list-slider-items").on("click",".advance .dashicons",function(t){t.preventDefault();var a=e(this),c=a.parent(),i=a.next();c.toggleClass("active"),c.hasClass("active")?i.slideDown():i.slideUp(),a.toggleClass("dashicons-editor-contract dashicons-editor-expand")}))}(),function(){e(".hocwp-widget-post .get-by").live("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}(),function(){var t=e(".sortable");t.length&&t.hocwpSortable()}(),function(){e("#hocwp_plugin_license_use_for").on("change",function(t){t.preventDefault();var a=e(this),c=e("#hocwp_plugin_license_customer_email"),i=e("#hocwp_plugin_license_license_code");c.val(""),i.val(""),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,cache:!0,data:{action:"hocwp_fetch_plugin_license",use_for:a.val()},success:function(e){c.val(e.customer_email),i.val(e.license_code)}})})}(),function(){e('.hocwp input[type="checkbox"]').on("click",function(t){var a=e(this),c=a.val();e.trim(c)||(a.is(":checked")?a.val(1):a.val(0))});var t=e("#hocwp_link_category"),a=t.attr("value");t.length&&(a=JSON.parse(a),e('.categorychecklist input[type="checkbox"]').each(function(){var t=e(this),c=parseInt(t.val());-1===e.inArray(c,a)&&t.prop("checked",!1)}))}(),function(){hocwp.switcherAjax()}(),function(){(t.hasClass("post-php")||t.hasClass("post-new-php"))&&hocwp.addDefaultQuicktagButton()}(),function(){var t=e(".hocwp-widget .chooseable");t.length&&t.hocwpChosenSelect(),t=e(".hocwp-meta-box .chooseable"),t.length&&t.hocwpChosenSelect()}(),function(){var t=e(".hocwp-color-picker"),a=e(".hocwp-datetime-picker");if(t.length&&t.wpColorPicker(),a.length){var c={},i=a.attr("data-min-date"),o=a.attr("data-date-format");e.isNumeric(i)&&(c.minDate=0),e.trim(o)&&(c.dateFormat=o),a.datepicker(c)}}(),function(){e(".hocwp.server-information .postbox > .handlediv").on("click",function(t){t.preventDefault();var a=e(this),c=a.parent();c.toggleClass("closed"),c.hasClass("closed")?a.attr("aria-expanded","false"):a.attr("aria-expanded","true")})}(),function(){var t=e(".hocwp.option-page");if(t.length){var a=t.find(".sidebar"),c=t.find(".main-content");a.height()>=c.height()&&c.css({"min-height":a.height()+50+"px"})}}(),function(){e(".hocwp-field-maps").hocwpGoogleMaps();var t=e(".classifieds.hocwp-google-maps #categorychecklist, .classifieds #classifieds_typechecklist, .classifieds #classifieds_objectchecklist, .classifieds #pricechecklist, .classifieds #acreagechecklist");t.find('input[type="checkbox"]').on("change",function(){var t=e(this),a=t.is(":checked"),c=t.closest("ul");c.find('input[type="checkbox"]').attr("checked",!1),a&&t.attr("checked",!0)})}()}),jQuery(document).ready(function(e){!function(){var t=e("body");if(t.hasClass("tools_page_hocwp_developers")){var a=e("#hocwp_developers_compress_css_js"),c=e("#hocwp_developers_compress_css"),i=e("#hocwp_developers_compress_js"),o=e("#hocwp_developers_compress_core"),n=e("#hocwp_developers_re_compress"),s=e("#hocwp_developers_force_compress"),d=!1;a.length&&a.on("click",function(){var r=[];c.is(":checked")&&r.push("css"),i.is(":checked")&&r.push("js"),n.is(":checked")&&r.push("recompress"),s.is(":checked")&&(d=!0),a.addClass("disabled"),t.css({cursor:"wait"}),alert("All your files are compressing, please wait..."),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,cache:!0,data:{action:"hocwp_compress_style_and_script",type:JSON.stringify(r),force_compress:d,compress_core:o.is(":checked")},success:function(e){t.css({cursor:"auto"}),alert("These files compressed successfully!")},complete:function(){a.removeClass("disabled")}})})}}(),function(){e(".form-table .hocwp-disconnect-social").on("click",function(t){t.preventDefault();var a=e(this),c=a.attr("data-user-id"),i=a.attr("data-social");confirm(hocwp.i18n.disconnect_confirm_message)&&e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,cache:!0,data:{action:"hocwp_disconnect_social_account",social:i,user_id:c},success:function(e){location.reload()}})})}()});