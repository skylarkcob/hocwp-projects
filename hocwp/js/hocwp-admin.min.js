jQuery(document).ready(function(e){hocwp.addBulkAction=function(t){t=t||[];for(var n=0;n<t.length;n++)e("<option>").val(t[n][0]).text(t[n][1]).appendTo("select[name='action']"),e("<option>").val(t[n][0]).text(t[n][1]).appendTo("select[name='action2']")},hocwp.widgetPostTypeChange=function(t){var n=e(t),o=n.val(),i=n.closest(".hocwp-widget"),c=i.find(".select-category"),a=c.closest(".hocwp-widget-field-group");"category"==o?a.fadeIn(500):a.fadeOut()},function(){e(document).on("widget-updated",function(t,n){var o=n[0].id;if(o&&o.match("hocwp")){var i=e(this);o.match("hocwp_widget_banner")?(i.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}),i.find(".btn-remove").live("click",function(t){t.preventDefault();var n=e(this).parent();hocwp.mediaUpload(n.find(".btn-insert-media"),{remove:!0})}),i.find("input.media-url").live("change input",function(t){t.preventDefault();var n=e(this).parent();hocwp.mediaUpload(n.find(".btn-insert-media"),{change:!0})})):o.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e("div.widgets-sortables").bind("sortreceive",function(t,n){var o=e(n.item).attr("id");if(o&&o.match("hocwp")){var i=e(n.item);o.match("hocwp_widget_banner")?i.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}):o.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}).bind("sortstop",function(t,n){var o=e(n.item).attr("id");if(o&&o.match("hocwp")){var i=e(n.item);o.match("hocwp_widget_post")&&i.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e(document).ajaxSuccess(function(t,n,o){if(-1!=o.data.search("action=save-widget")&&-1!=o.data.search("hocwp")){var i=hocwp.getParamByName(o.data,"id_base"),c=e(this);("hocwp_widget_post"==i||"hocwp_widget_top_commenter"==i)&&(c.find(".hocwp-widget .chosen-container").hide(),c.find(".hocwp-widget .chooseable").hocwpChosenSelect(),c.find(".hocwp-widget .chosen-container").show())}}),e(document).delegate(".btn-insert-media","click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))})}(),function(){e(".hocwp-widget-post .get-by").live("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}(),function(){var t=e(".sortable");t.length&&t.hocwpSortable()}(),function(){e("#hocwp_plugin_license_use_for").on("change",function(t){t.preventDefault();var n=e(this),o=e("#hocwp_plugin_license_customer_email"),i=e("#hocwp_plugin_license_license_code");o.val(""),i.val(""),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,data:{action:"hocwp_fetch_plugin_license",use_for:n.val()},success:function(e){o.val(e.customer_email),i.val(e.license_code)}})})}(),function(){hocwp.switcherAjax()}(),function(){var t=e(".hocwp-widget .chooseable");t.length&&t.hocwpChosenSelect()}(),function(){var t=e(".hocwp-color-picker");t.length&&t.wpColorPicker()}(),function(){e(".hocwp.server-information .postbox > .handlediv").on("click",function(t){t.preventDefault();var n=e(this),o=n.parent();o.toggleClass("closed"),o.hasClass("closed")?n.attr("aria-expanded","false"):n.attr("aria-expanded","true")})}()});