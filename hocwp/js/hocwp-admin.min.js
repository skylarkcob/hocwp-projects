/**
 * Last updated: 20/04/2016
 */
jQuery(document).ready(function(e){var t=e("body");hocwp.addBulkAction=function(t){t=t||[];for(var i=0;i<t.length;i++)e("<option>").val(t[i][0]).text(t[i][1]).appendTo("select[name='action']"),e("<option>").val(t[i][0]).text(t[i][1]).appendTo("select[name='action2']")},hocwp.widgetPostTypeChange=function(t){var i=e(t),c=i.val(),n=i.closest(".hocwp-widget"),o=n.find(".select-category"),a=o.closest(".hocwp-widget-field-group");"category"==c?a.fadeIn(500):a.fadeOut()},function(){t.hasClass("widgets-php")&&(e(document).on("widget-updated",function(t,i){var c=i[0].id;if(c&&c.match("hocwp")){var n=e(this);c.match("hocwp_widget_banner")||c.match("hocwp_widget_icon")?(n.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}),n.find(".btn-remove").live("click",function(t){t.preventDefault();var i=e(this).parent();hocwp.mediaUpload(i.find(".btn-insert-media"),{remove:!0})}),n.find("input.media-url").live("change input",function(t){t.preventDefault();var i=e(this).parent();hocwp.mediaUpload(i.find(".btn-insert-media"),{change:!0})})):c.match("hocwp_widget_post")&&n.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e("div.widgets-sortables").bind("sortreceive",function(t,i){var c=e(i.item).attr("id");if(c&&c.match("hocwp")){var n=e(i.item);c.match("hocwp_widget_banner")||c.match("hocwp_widget_icon")?n.find(".btn-insert-media").live("click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}):c.match("hocwp_widget_post")&&n.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}).bind("sortstop",function(t,i){var c=e(i.item).attr("id");if(c&&c.match("hocwp")){var n=e(i.item);c.match("hocwp_widget_post")&&n.find(".hocwp-widget-post .get-by").on("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}}),e(document).ajaxSuccess(function(t,i,c){if(-1!=c.data.search("action=save-widget")&&-1!=c.data.search("hocwp")){var n=hocwp.getParamByName(c.data,"id_base"),o=e(this);("hocwp_widget_post"==n||"hocwp_widget_top_commenter"==n||"hocwp_widget_term"==n)&&(o.find(".hocwp-widget .chosen-container").hide(),o.find(".hocwp-widget .chooseable").hocwpChosenSelect(),o.find(".hocwp-widget .chosen-container").show())}}),e(document).delegate(".btn-insert-media","click",function(t){t.preventDefault(),hocwp.mediaUpload(e(this))}))}(),function(){e(".hocwp-widget-post .get-by").live("change",function(e){e.preventDefault(),hocwp.widgetPostTypeChange(this)})}(),function(){var t=e(".sortable");t.length&&t.hocwpSortable()}(),function(){e("#hocwp_plugin_license_use_for").on("change",function(t){t.preventDefault();var i=e(this),c=e("#hocwp_plugin_license_customer_email"),n=e("#hocwp_plugin_license_license_code");c.val(""),n.val(""),e.ajax({type:"POST",dataType:"json",url:hocwp.ajax_url,data:{action:"hocwp_fetch_plugin_license",use_for:i.val()},success:function(e){c.val(e.customer_email),n.val(e.license_code)}})})}(),function(){e('.hocwp input[type="checkbox"]').on("click",function(t){var i=e(this),c=i.val();i.is(":checked")?1!=c&&i.val(1):(1==c||""==c)&&i.val(0)})}(),function(){hocwp.switcherAjax()}(),function(){(t.hasClass("post-php")||t.hasClass("post-new-php"))&&hocwp.addDefaultQuicktagButton()}(),function(){var t=e(".hocwp-widget .chooseable");t.length&&t.hocwpChosenSelect(),t=e(".hocwp-meta-box .chooseable"),t.length&&t.hocwpChosenSelect()}(),function(){var t=e(".hocwp-color-picker"),i=e(".hocwp-datetime-picker");if(t.length&&t.wpColorPicker(),i.length){var c={},n=i.attr("data-min-date"),o=i.attr("data-date-format");e.isNumeric(n)&&(c.minDate=0),e.trim(o)&&(c.dateFormat=o),i.datepicker(c)}}(),function(){e(".hocwp.server-information .postbox > .handlediv").on("click",function(t){t.preventDefault();var i=e(this),c=i.parent();c.toggleClass("closed"),c.hasClass("closed")?i.attr("aria-expanded","false"):i.attr("aria-expanded","true")})}(),function(){var t=e(".hocwp.option-page");if(t.length){var i=t.find(".sidebar"),c=t.find(".main-content");i.height()>=c.height()&&c.css({"min-height":i.height()+50+"px"})}}(),function(){e(".hocwp-field-maps").hocwpGoogleMaps();var t=e(".classifieds.hocwp-google-maps #categorychecklist, .classifieds #classifieds_typechecklist, .classifieds #classifieds_objectchecklist, .classifieds #pricechecklist, .classifieds #acreagechecklist");t.find('input[type="checkbox"]').on("change",function(){var t=e(this),i=t.is(":checked"),c=t.closest("ul");c.find('input[type="checkbox"]').attr("checked",!1),i&&t.attr("checked",!0)})}()});